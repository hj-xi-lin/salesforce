<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Instant_Purchase_Message2</name>
        <label>Instant Purchase Message</label>
        <locationX>1898</locationX>
        <locationY>684</locationY>
        <actionName>slackPostMessage</actionName>
        <actionType>slackPostMessage</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>slackAppIdForToken</name>
            <value>
                <stringValue>A028VJ1KG3G</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackWorkspaceIdForToken</name>
            <value>
                <stringValue>T02516KLC</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackConversationId</name>
            <value>
                <stringValue>C034G3JG6FR</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackMessage</name>
            <value>
                <elementReference>fmlSlackMessageInstant</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>$Record.OpportunityId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>slackPostMessage</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Non_Instant_Purchase_Message2</name>
        <label>Non-Instant Purchase Message</label>
        <locationX>2162</locationX>
        <locationY>684</locationY>
        <actionName>slackPostMessage</actionName>
        <actionType>slackPostMessage</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>slackAppIdForToken</name>
            <value>
                <stringValue>A028VJ1KG3G</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackWorkspaceIdForToken</name>
            <value>
                <stringValue>T02516KLC</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackConversationId</name>
            <value>
                <stringValue>C034G3JG6FR</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>slackMessage</name>
            <value>
                <elementReference>fmlSlackMessageNonInstant</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>$Record.OpportunityId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>slackPostMessage</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>59.0</apiVersion>
    <decisions>
        <name>Check_for_Error</name>
        <label>Check for Error</label>
        <locationX>2162</locationX>
        <locationY>576</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Instant_Purchase_ErrorCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Instant_Purchase__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.StageName</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Instant_Purchase_Message2</targetReference>
            </connector>
            <label>Instant Purchase</label>
        </rules>
        <rules>
            <name>Non_Instant_Purchase_ErrorCheck</name>
            <conditionLogic>1 AND (2 OR 3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Onlinekauf__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Owner.Profile.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>System Administrator</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Owner.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Owner.Profile.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Taskdrive</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Non_Instant_Purchase_Message2</targetReference>
            </connector>
            <label>Non-Instant Purchase</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Product_type</name>
        <label>Check Product type</label>
        <locationX>2162</locationX>
        <locationY>276</locationY>
        <defaultConnector>
            <targetReference>Check_for_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>HIRE</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>HIRE</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_contract_dates</targetReference>
            </connector>
            <label>HIRE</label>
        </rules>
    </decisions>
    <decisions>
        <name>Instant_Non_Instant</name>
        <label>Instant/Non-Instant</label>
        <locationX>182</locationX>
        <locationY>1008</locationY>
        <defaultConnector>
            <targetReference>Update_Opp_NonInstant</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Instant_Purchase1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Instant_Purchase__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opp</targetReference>
            </connector>
            <label>Instant Purchase</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_type_on_Quote</name>
        <label>Product type on Quote</label>
        <locationX>182</locationX>
        <locationY>600</locationY>
        <defaultConnector>
            <targetReference>Update_Product_Type_on_Quote_2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>REACH</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Product_Type_on_Quote</targetReference>
            </connector>
            <label>REACH</label>
        </rules>
    </decisions>
    <decisions>
        <name>Purchase_Type</name>
        <label>Purchase Type</label>
        <locationX>1238</locationX>
        <locationY>684</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Instant_Purchase</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Instant_Purchase__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opp_Instant</targetReference>
            </connector>
            <label>Instant Purchase</label>
        </rules>
        <rules>
            <name>Non_Instant_Purchase</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Instant_Purchase__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opp_Non_Instant</targetReference>
            </connector>
            <label>Non-Instant Purchase</label>
        </rules>
    </decisions>
    <decisions>
        <name>SSSU_Funnel</name>
        <label>SSSU Funnel ?</label>
        <locationX>1238</locationX>
        <locationY>276</locationY>
        <defaultConnector>
            <targetReference>Update_Open_Opp_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_72</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Won_Opportunities__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Timestamp_SSSU_Account__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Record_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Self Service</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_SSSU_Funnel</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Stage_ACM</name>
        <label>Stage_ACM</label>
        <locationX>842</locationX>
        <locationY>900</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Prospect</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Stage_ACM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Account_Lifecycle_Stage_Prospect</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Stage_ACM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Account_Lifecycle_Stage_Lost</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Stage_ACM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Account_Lifecycle_Stage_Acquisition</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Stage_ACM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Account_Lifecycle_Stage_Outbound</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Stage_ACM_to_Pilot</targetReference>
            </connector>
            <label>Prospect/Lost/Acquisition/Outbound</label>
        </rules>
        <rules>
            <name>Pilot</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.Stage_ACM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Account_Lifecycle_Stage_Pilot</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity.Account.GTM_Motion_Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.GTM_Motion_Inside_Sales</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Stage_ACM_to_Retention</targetReference>
            </connector>
            <label>Pilot (Inside Sales)</label>
        </rules>
    </decisions>
    <description>RO-1602 , RO-1547, RO-1627 , RO - 1675, RO - 1890, Adding Logging elements , RO - 1890, Cleanup of testing paths, RO-1959, RO - 2021, RO-2045, RO - 2117, Fix Allow Closed Won, RO-2350, RO-2383, RO - 2548, RO - 2541, RO-2618, RO - 2748 , RO - 2794</description>
    <environments>Default</environments>
    <formulas>
        <name>fmlEnddate</name>
        <dataType>Date</dataType>
        <expression>ADDMONTHS(TODAY(),{!fmlServicePeriod})</expression>
    </formulas>
    <formulas>
        <name>fmlGTMMotionAlignmentHelperUpdate</name>
        <dataType>Boolean</dataType>
        <expression>NOT(  {!$Record.Opportunity.Account.GTM_Motion_Alignment_Helper__c}  )</expression>
    </formulas>
    <formulas>
        <name>fmlNonInstantOppName</name>
        <dataType>String</dataType>
        <expression>IF(
LEN(  TEXT(TODAY()) + &quot; &quot; + &quot;-&quot; + &quot; &quot; + &quot;Onlinekauf&quot; + &quot; &quot; + &quot;-&quot; + &quot; &quot; + {!$Record.Opportunity.Account.Name}  ) &gt; 120 ,
LEFT(  TEXT(TODAY()) + &quot; &quot; + &quot;-&quot; + &quot; &quot; + &quot;Onlinekauf&quot; + &quot; &quot; + &quot;-&quot; + &quot; &quot; + {!$Record.Opportunity.Account.Name}  , 120 ) ,
TEXT(TODAY()) + &quot; &quot; + &quot;-&quot; + &quot; &quot; + &quot;Onlinekauf&quot; + &quot; &quot; + &quot;-&quot; + &quot; &quot; + {!$Record.Opportunity.Account.Name}
)</expression>
    </formulas>
    <formulas>
        <name>fmlOnlinekaufAmount</name>
        <dataType>Number</dataType>
        <expression>VALUE( {!$Record.Opportunity.Onlinekauf_Amount__c} )</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fmlOnlinekaufAmountReduced</name>
        <dataType>Number</dataType>
        <expression>VALUE( {!$Record.Opportunity.Onlinekauf_Amount__c} ) - 300</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fmlOppURL</name>
        <dataType>String</dataType>
        <expression>&quot;&lt;&quot; &amp; &quot;https://heyjobs.lightning.force.com/&quot; + {!$Record.OpportunityId} &amp; &quot;|&quot; &amp; {!$Record.Opportunity.Name} &amp; &quot;&gt;&quot;</expression>
    </formulas>
    <formulas>
        <name>fmlPaymentTime</name>
        <dataType>Number</dataType>
        <expression>IF( ISBLANK({!$Record.Opportunity.Payment_Time__c}) , 14 , {!$Record.Opportunity.Payment_Time__c} )</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fmlServicePeriod</name>
        <dataType>Number</dataType>
        <expression>VALUE(
  LEFT(
    {!$Record.Opportunity.Synced_Quote_Service_Period__c},
    FIND(&quot; &quot;, {!$Record.Opportunity.Synced_Quote_Service_Period__c}) - 1
  )
)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fmlSlackMessageInstant</name>
        <dataType>String</dataType>
        <expression>&quot;Automation failed for instant purchase. Please take a look at &quot; + {!fmlOppURL} + &quot; !&quot; + BR() + 
&quot;Opportunity Owner: &quot; + {!$Record.Opportunity.Owner.Full_Name__c} + BR() + 
&quot;Close Date: &quot; + TEXT({!$Record.Opportunity.CloseDate}) + BR() + 
&quot;Stage: &quot; + TEXT({!$Record.Opportunity.StageName})</expression>
    </formulas>
    <formulas>
        <name>fmlSlackMessageNonInstant</name>
        <dataType>String</dataType>
        <expression>&quot;Non-Instant Purchase Failed! Please have a look at &quot; + {!fmlOppURL} + &quot; !&quot; + BR() + 
&quot;Opportunity Owner: &quot; + {!$Record.Opportunity.Owner.Full_Name__c} + BR() + 
&quot;Close Date: &quot; + TEXT({!$Record.Opportunity.CloseDate}) + BR() + 
&quot;Stage: &quot; + TEXT({!$Record.Opportunity.StageName})</expression>
    </formulas>
    <formulas>
        <name>fmlToday</name>
        <dataType>Date</dataType>
        <expression>TODAY()</expression>
    </formulas>
    <interviewLabel>Customer Self-Service Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Customer Self-Service Flow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Add_Marketing_Product</name>
        <label>Add Marketing Product</label>
        <locationX>182</locationX>
        <locationY>384</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <inputAssignments>
            <field>PricebookEntryId</field>
            <value>
                <stringValue>01u1v00000FcbR7AAJ</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <stringValue>01t1v00000DCQiYAAX</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Quantity</field>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuoteId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UnitPrice</field>
            <value>
                <elementReference>fmlOnlinekaufAmount</elementReference>
            </value>
        </inputAssignments>
        <object>QuoteLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Task</name>
        <label>Create Task</label>
        <locationX>1370</locationX>
        <locationY>900</locationY>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.Opportunity.Account.Owner.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Priority</field>
            <value>
                <stringValue>High</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Double Check Onlinekauf</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Task</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>$Record.Opportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Products</name>
        <label>Get Products</label>
        <locationX>182</locationX>
        <locationY>492</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Product_type_on_Quote</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>QuoteId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product__c</field>
            <operator>Contains</operator>
            <value>
                <stringValue>Reach</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>QuoteLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Account</name>
        <label>Update Account</label>
        <locationX>182</locationX>
        <locationY>900</locationY>
        <connector>
            <targetReference>Instant_Non_Instant</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Last_Booking_Generated_Date__c</field>
            <value>
                <elementReference>fmlToday</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_contract_dates</name>
        <label>Update contract dates</label>
        <locationX>2030</locationX>
        <locationY>384</locationY>
        <connector>
            <targetReference>Check_for_Error</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.OpportunityId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contract_End_Date__c</field>
            <value>
                <elementReference>fmlEnddate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Contract_Start_Date__c</field>
            <value>
                <elementReference>fmlToday</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Open_Opp_Id</name>
        <label>Update Open Opp Id</label>
        <locationX>1238</locationX>
        <locationY>576</locationY>
        <connector>
            <targetReference>Purchase_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Open_Opportunity_ID__c</field>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp</name>
        <label>Update Opp</label>
        <locationX>50</locationX>
        <locationY>1116</locationY>
        <inputAssignments>
            <field>Allow_Closed_Won__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <elementReference>$Record.Product_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SyncedQuoteId</field>
            <value>
                <stringValue></stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_Instant</name>
        <label>Update Opp</label>
        <locationX>842</locationX>
        <locationY>792</locationY>
        <connector>
            <targetReference>Stage_ACM</targetReference>
        </connector>
        <inputAssignments>
            <field>Contract_End_Date__c</field>
            <value>
                <elementReference>fmlEnddate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Contract_Start_Date__c</field>
            <value>
                <elementReference>fmlToday</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <elementReference>$Record.Product_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Won</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SyncedQuoteId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_Non_Instant</name>
        <label>Update Opp</label>
        <locationX>1370</locationX>
        <locationY>792</locationY>
        <connector>
            <targetReference>Create_Task</targetReference>
        </connector>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>fmlNonInstantOppName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <elementReference>$Record.Product_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SyncedQuoteId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_NonInstant</name>
        <label>Update Opp</label>
        <locationX>314</locationX>
        <locationY>1116</locationY>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <elementReference>$Record.Product_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SyncedQuoteId</field>
            <value>
                <stringValue></stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Payment_Time</name>
        <label>Update Payment Time</label>
        <locationX>182</locationX>
        <locationY>276</locationY>
        <connector>
            <targetReference>Add_Marketing_Product</targetReference>
        </connector>
        <inputAssignments>
            <field>dPaymentTime__c</field>
            <value>
                <elementReference>fmlPaymentTime</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Product_Type_on_Quote</name>
        <label>Update Product Type on Quote</label>
        <locationX>50</locationX>
        <locationY>708</locationY>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>REACH</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Product_Type_on_Quote_2</name>
        <label>Update Product Type on Quote</label>
        <locationX>314</locationX>
        <locationY>708</locationY>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>HIRE</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_SSSU_Funnel</name>
        <label>Update SSSU Funnel</label>
        <locationX>1106</locationX>
        <locationY>384</locationY>
        <connector>
            <targetReference>Update_Open_Opp_Id</targetReference>
        </connector>
        <inputAssignments>
            <field>SSSU_Funnel__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Stage_ACM_to_Pilot</name>
        <label>Update Stage_ACM to Pilot</label>
        <locationX>578</locationX>
        <locationY>1008</locationY>
        <inputAssignments>
            <field>GTM_Motion_Alignment_Helper__c</field>
            <value>
                <elementReference>fmlGTMMotionAlignmentHelperUpdate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Stage_ACM__c</field>
            <value>
                <elementReference>$Label.Account_Lifecycle_Stage_Pilot</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity.Account</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Stage_ACM_to_Retention</name>
        <label>Update Stage_ACM to Retention</label>
        <locationX>842</locationX>
        <locationY>1008</locationY>
        <inputAssignments>
            <field>Stage_ACM__c</field>
            <value>
                <elementReference>$Label.Account_Lifecycle_Stage_Retention</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Opportunity.Account</inputReference>
    </recordUpdates>
    <start>
        <locationX>1046</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_Payment_Time</targetReference>
        </connector>
        <filterFormula>OR(
{!$Record.Opportunity.Instant_Purchase__c} &amp;&amp; ISPICKVAL( {!$Record.Status}, &quot;Accepted&quot; ) ,
{!$Record.Opportunity.Onlinekauf__c} &amp;&amp; ISPICKVAL( {!$Record.Status}, &quot;Sent&quot; ),
{!$Record.Opportunity.Onlinekauf__c} &amp;&amp; ISPICKVAL( {!$Record.Status}, &quot;Accepted&quot; )
)</filterFormula>
        <object>Quote</object>
        <recordTriggerType>Create</recordTriggerType>
        <scheduledPaths>
            <name>Pause_1min</name>
            <connector>
                <targetReference>SSSU_Funnel</targetReference>
            </connector>
            <label>Pause (1min)</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>CreatedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>Pause_10min</name>
            <connector>
                <targetReference>Check_Product_type</targetReference>
            </connector>
            <label>Pause (10min)</label>
            <offsetNumber>10</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>CreatedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>varProductLoop</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varReach</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
